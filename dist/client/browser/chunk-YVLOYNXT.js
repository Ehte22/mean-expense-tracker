import{a as b,b as L}from"./chunk-SYL5GV3Q.js";import{m as E,p as H}from"./chunk-SRUTDPXE.js";import{a as N}from"./chunk-SOSAYNY5.js";import{a as k,c as P}from"./chunk-XHWYWDA2.js";import{Db as v,Fa as r,Fb as T,Ga as o,Ha as d,Ib as M,Ka as D,Ma as y,Na as C,P as f,U as h,Ub as u,V as g,Va as a,Wa as w,Xa as F,Z as _,_ as I,ka as l,la as m,mb as Y,nb as j,tb as O,ua as x,wa as c}from"./chunk-7BGFEG6P.js";function J(n,t){if(n&1&&(r(0,"option",8),a(1),o()),n&2){let p=t.$implicit;c("value",p),l(),w(p)}}function K(n,t){if(n&1){let p=D();r(0,"button",10),y("click",function(){_(p);let i=C().$implicit,s=C();return I(s.expense(i._id))}),a(1,"view"),o()}}function Q(n,t){if(n&1&&(r(0,"tr")(1,"td"),a(2),o(),r(3,"td"),a(4),o(),r(5,"td"),x(6,K,2,0,"button",9),o()()),n&2){let p=t.$implicit;l(2),w(p.month),l(2),F(" ",p.totalAmount,""),l(2),c("ngIf",p._id)}}var $=(()=>{let t=class t{constructor(e,i){this.store=e,this.router=i,this.years=["2024","2023","2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011"],this.searchExpense="",this.currentPage=1,this.limit=5,this.total=0,this.pages=[],this.sortByOrder="desc",this.monthId="",this.selectedYear=new Date().getFullYear().toString(),this.monthlyExpenses=[]}ngOnInit(){this.getMonthlyExpenses()}handleChange(e){let i=e.target;this.selectedYear=i.value.toLowerCase(),this.getMonthlyExpenses()}getMonthlyExpenses(){this.store.dispatch(E({searchYear:this.selectedYear})),this.store.select(e=>e.expense).subscribe(e=>{e&&e.monthlyExpneses&&(this.monthlyExpenses=e.monthlyExpneses)})}monthlyStatistics(){this.router.navigate([`dashboard/statistics/${this.selectedYear}`])}expense(e){this.router.navigate([`dashboard/daily/${e}`])}};t.\u0275fac=function(i){return new(i||t)(m(u),m(T))},t.\u0275cmp=h({type:t,selectors:[["app-home"]],decls:19,vars:2,consts:[[1,"container"],[1,"d-flex","justify-content-end","mt-5"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"form-select","w-200px","mx-2",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive","my-2"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[3,"value"],["class","btn btn-outline-primary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary","btn-sm",3,"click"]],template:function(i,s){i&1&&(d(0,"app-header"),r(1,"div",0)(2,"div",1)(3,"button",2),y("click",function(){return s.monthlyStatistics()}),a(4,"Statistics"),o(),r(5,"select",3),y("change",function(z){return s.handleChange(z)}),x(6,J,2,2,"option",4),o()(),r(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),a(12,"Month"),o(),r(13,"th"),a(14,"Total Expense"),o(),r(15,"th"),a(16,"Monthly Statistics"),o()()(),r(17,"tbody"),x(18,Q,7,3,"tr",7),o()()()()),i&2&&(l(6),c("ngForOf",s.years),l(12),c("ngForOf",s.monthlyExpenses))},dependencies:[Y,j,k],styles:[".w-200px[_ngcontent-%COMP%]{width:200px}.pie-chart-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:inline-block}"]});let n=t;return n})();var V=(()=>{let t=class t{constructor(e,i){this.store=e,this.activeRoute=i,this.selectedYear="",this.view=[700,400],this.expensesData=[],this.showLegend=!0,this.showLabels=!0,this.explodeSlices=!1,this.doughnut=!1,this.colorScheme="natural"}ngOnInit(){this.selectedYear=this.activeRoute.snapshot.params?.id,this.getMonthlyExpenses()}getMonthlyExpenses(){this.store.dispatch(E({searchYear:this.selectedYear})),this.store.select(e=>e.expense).subscribe(e=>{e&&e.monthlyExpneses&&(this.expensesData=e.monthlyExpneses.map(i=>({name:i.month,value:i.totalAmount})))})}};t.\u0275fac=function(i){return new(i||t)(m(u),m(v))},t.\u0275cmp=h({type:t,selectors:[["app-statistics"]],decls:5,vars:7,consts:[[1,"container","d-flex","justify-content-center","align-items-center","h-full"],[1,"card","shadow","p-3"],[3,"view","scheme","results","legend","explodeSlices","labels","doughnut"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),a(3,"Track Expenses"),o(),d(4,"ngx-charts-pie-chart",2),o()()),i&2&&(l(4),c("view",s.view)("scheme",s.colorScheme)("results",s.expensesData)("legend",s.showLegend)("explodeSlices",s.explodeSlices)("labels",s.showLabels)("doughnut",s.doughnut))},dependencies:[b],styles:[".h-full[_ngcontent-%COMP%]{height:100vh}"]});let n=t;return n})();var B=(()=>{let t=class t{constructor(e,i){this.store=e,this.acitveRoute=i,this.selectedYear=new Date().getFullYear().toString(),this.selectedMonth="",this.view=[700,400],this.expensesData=[],this.showLegend=!0,this.showLabels=!0,this.explodeSlices=!1,this.doughnut=!1,this.colorScheme="natural"}ngOnInit(){this.selectedMonth=this.acitveRoute.snapshot.params?.id,this.store.select(e=>e.expense).subscribe(e=>{e&&e.dailyExpneses&&(this.day=e.dailyExpneses.find(i=>i._id===+this.selectedMonth),console.log(this.day))}),this.getDailyExpenses()}getDailyExpenses(){this.store.dispatch(H({searchYear:this.selectedYear,searchMonth:this.selectedMonth})),this.store.select(e=>e.expense).subscribe(e=>{e&&e.dailyExpneses&&(this.expensesData=e.dailyExpneses.map(i=>({name:i.date,value:i.totalAmount})))})}};t.\u0275fac=function(i){return new(i||t)(m(u),m(v))},t.\u0275cmp=h({type:t,selectors:[["app-daily"]],decls:5,vars:7,consts:[[1,"container","d-flex","justify-content-center","align-items-center","h-full"],[1,"card","shadow","p-3"],[3,"view","scheme","results","legend","explodeSlices","labels","doughnut"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),a(3,"Track Expenses"),o(),d(4,"ngx-charts-pie-chart",2),o()()),i&2&&(l(4),c("view",s.view)("scheme",s.colorScheme)("results",s.expensesData)("legend",s.showLegend)("explodeSlices",s.explodeSlices)("labels",s.showLabels)("doughnut",s.doughnut))},dependencies:[b],styles:[".h-full[_ngcontent-%COMP%]{height:100vh}"]});let n=t;return n})();var W=[{path:"",canActivate:[N],children:[{path:"",component:$,title:"Home"},{path:"statistics/:id",component:V,title:"Statictics"},{path:"daily/:id",component:B,title:"Home"}]}],G=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g({type:t}),t.\u0275inj=f({imports:[M.forChild(W),M,L]});let n=t;return n})();var Se=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=g({type:t}),t.\u0275inj=f({imports:[O,G,P]});let n=t;return n})();export{Se as DashboardModule};
